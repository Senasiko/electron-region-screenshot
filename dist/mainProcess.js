"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var electron=require("electron");let screenshotContent,imgPath;function reset(){screenshotContent=void 0,imgPath=void 0}const initMain=e=>{electron.ipcMain.on("screenshot-page",(t,s)=>{switch(screenshotContent=t.sender,s.type){case"close":case"save":e.send("quit-cut");break;case"success":e.send("screenshot-success",s);break;case"ready":e.send("screenshot-ready",s),imgPath&&(t.sender.send("capturer-data",imgPath),reset())}}),electron.ipcMain.on("capturer-data",(e,t)=>{screenshotContent&&!screenshotContent.isDestroyed()?(screenshotContent.send("capturer-data",t),reset()):imgPath=t})};exports.initMain=initMain;
